(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){e.exports=a(58)},35:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),c=a.n(r),o=(a(35),a(13)),m=a(19),s=a(8),i=a(14),d=a(15);var u=function(){return l.a.createElement("div",{className:"mt-4 pb-0"},l.a.createElement("div",{className:"lg:px-16 px-6 bg-white flex flex-wrap items-center lg:py-0 py-2"},l.a.createElement("div",{className:"flex-1 flex justify-between items-center"},l.a.createElement("a",{href:"ok"},l.a.createElement("path",{d:"M15.922 35.798c-.946 0-1.852-.228-2.549-.638l-10.825-6.379c-1.428-.843-2.549-2.82-2.549-4.501v-12.762c0-1.681 1.12-3.663 2.549-4.501l10.825-6.379c.696-.41 1.602-.638 2.549-.638.946 0 1.852.228 2.549.638l10.825 6.379c1.428.843 2.549 2.82 2.549 4.501v12.762c0 1.681-1.12 3.663-2.549 4.501l-10.825 6.379c-.696.41-1.602.638-2.549.638zm0-33.474c-.545 0-1.058.118-1.406.323l-10.825 6.383c-.737.433-1.406 1.617-1.406 2.488v12.762c0 .866.67 2.05 1.406 2.488l10.825 6.379c.348.205.862.323 1.406.323.545 0 1.058-.118 1.406-.323l10.825-6.383c.737-.433 1.406-1.617 1.406-2.488v-12.757c0-.866-.67-2.05-1.406-2.488l-10.825-6.379c-.348-.21-.862-.328-1.406-.328zM26.024 13.104l-7.205 13.258-3.053-5.777-3.071 5.777-7.187-13.258h4.343l2.803 5.189 3.107-5.832 3.089 5.832 2.821-5.189h4.352z"}))),l.a.createElement("label",{for:"menu-toggle",className:"pointer-cursor lg:hidden block"},l.a.createElement("svg",{className:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},l.a.createElement("title",null,"menu"),l.a.createElement("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"}))),l.a.createElement("input",{className:"hidden",type:"checkbox",id:"menu-toggle"}),l.a.createElement("div",{className:"hidden lg:flex lg:items-center lg:w-auto w-full",id:"menu"},l.a.createElement("nav",null,l.a.createElement("ul",{className:"lg:flex items-center justify-between text-base text-gray-700 pt-4 lg:pt-0"},l.a.createElement("li",null,l.a.createElement("a",{className:"lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400",href:"/"},"Home")),l.a.createElement("li",null,l.a.createElement("a",{className:"lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400",href:"/tweetlist"},"Tweets")))))))},b={"Barking and Dagenham":"@lbbdcouncil",Camden:"@CamdenCouncil",Croydon:"@yourcroydon",Hackney:"@hackneycouncil","Hammersmith and Fulham":"@LBHF",Islington:"@IslingtonBC",Lambeth:"@lambeth_council",Lewisham:"@LewishamCouncil",Westminster:"@CityWestminster"};var p=function(){var e=Object(n.useState)({type:"",date:"",incident:"",council:"",urgency:"",postcode:""}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),p=Object(s.a)(c,2),g=p[0],f=p[1],h=Object(n.useState)("true"),x=Object(s.a)(h,2),v=x[0],E=x[1];function w(e){e.preventDefault(),r(Object(m.a)(Object(m.a)({},a),{},Object(o.a)({},e.target.name,e.target.value)))}var y=function(e){var t="",a=e.result;for(var n in a)"primary_care_trust"===n&&(t=a[n]);for(var l=0,r=Object.entries(b);l<r.length;l++){var c=Object(s.a)(r[l],2),o=c[0],m=c[1];if(o===t)return m}},N=y(g);return l.a.createElement("div",null,l.a.createElement(u,{className:""}),l.a.createElement("div",{className:"bg-pngop bg-cover h-64"}),l.a.createElement("div",{className:"flex justify-center"},l.a.createElement("div",{className:"m-16"},l.a.createElement("form",{name:"form",onSubmit:function(e){e.preventDefault(),fetch("https://api.postcodes.io/postcodes/ ".concat(a.postcode)).then((function(e){return e.json()})).then((function(e){return f(e)})),y(g)},className:"w-full max-w-lg bg-hero"},l.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},l.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},l.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Report Type"),l.a.createElement("input",{className:"appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:"grid-first-name",name:"type",type:"text",value:a.type,placeholder:"name",onChange:w})),l.a.createElement("div",{className:"w-full md:w-1/2 px-3"},l.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Report Date"),l.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",name:"date",type:"date",value:a.date,placeholder:"*****",onChange:w}))),l.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6 mt-12"},l.a.createElement("div",{className:"w-full px-3"},l.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Incident"),l.a.createElement("textarea",{className:"h-32 appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",name:"incident",type:"text",onChange:w,value:a.incident}))),l.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-2 mt-12"},l.a.createElement("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},l.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Postcode"),l.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",name:"postcode",type:"text",onChange:w,value:a.postcode})),l.a.createElement("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},l.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"grid-state"},"Urgency"),l.a.createElement("div",{className:"relative"},l.a.createElement("select",{name:"urgency",className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state",value:a.urgency},l.a.createElement("option",null),l.a.createElement("option",null,"High"),l.a.createElement("option",null,"Medium"),l.a.createElement("option",null,"Low")),l.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},l.a.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},l.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),l.a.createElement("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},l.a.createElement("label",{className:"".concat(v?"text-gray-200":"text-gray-900"," block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2")},"Council"),l.a.createElement("input",{name:"council",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text",placeholder:"",onChange:w,value:function(e){var t=e.result;for(var a in t)if("admin_district"===a)return t[a]}(g),disabled:!0}))),l.a.createElement("div",{className:"flex mt-6"},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){E(!1)},className:"".concat(v?"bg-blue-500":"bg-blue-500 opacity-25 cursor-not-allowed",' hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-900 rounded mt-8 mb-0"'),type:"submit"},"Submit")),l.a.createElement("div",{className:"ml-auto"},l.a.createElement("a",{href:"http://twitter.com/intent/tweet?text=".concat(N," ").concat(a.incident," London via @InspectorRoute")},l.a.createElement("button",{onClick:function(){setTimeout((function(){window.location.reload(!0)}),1e3)},className:"".concat(v?"bg-blue-500 opacity-25 cursor-not-allowed":"bg-blue-500 animate-bounce"," hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-900 rounded mt-8 w-64 right-0")},l.a.createElement(i.a,{className:"mr-3",icon:d.a}),"Share on Twitter")))),l.a.createElement("div",{className:""},v?"":l.a.createElement("div",{className:"bg-gray-200 rounded-md mt-8 border-2 font-bold border-blue-500 p-8 transition"},"We have automatically populated the tweet, we have added the relevant councils Twitter username based on the postcode you provided."))),l.a.createElement("div",{className:"bg-pngop h-64"}))))},g=a(28),f=a.n(g),h=a(50),x=a(51);h.extend(x);var v=function(e){var t=e.tweet,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],o=r[1],m=function(e){return e.replace(/(?:https?|ftp):\/\/[\n\S]+/g,"")};return l.a.createElement("div",{className:"flex"},l.a.createElement("div",{onClick:function(){o(!0)},className:"m-2 bg-gradient-to-r from-blue-400 to-blue-800 bg-opacity-25 border border-gray-900 shadow-lg"},l.a.createElement("div",null,t.entities.media.map((function(e,t){return l.a.createElement("img",{className:"w-full object-cover h-64",alt:"goodbye",key:t,src:e.media_url})})),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{className:"rounded-full h-16 w-16 flex items-center justify-center m-auto mt-4",alt:"hello",src:t.user.profile_image_url}),l.a.createElement("p",{className:"align-middle mt-4 ml-2 text-gray-200 font-bold"},"@".concat(t.user.name))),l.a.createElement("div",{className:"text-center mt-2"},l.a.createElement(i.a,{className:"fa-2x text-gray-100 mt-2",icon:d.a})),l.a.createElement("div",null,l.a.createElement("h3",{className:" text-gray-200 font-bold p-3 h-32 text-center"},m(t.text)))))),l.a.createElement(f.a,{isOpen:c,onRequestClose:function(){o(!1)},style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"700px"}},contentLabel:"Example Modal"},l.a.createElement("div",{className:"bg-blue-500 flex"},t.entities.media.map((function(e,t){return l.a.createElement("img",{className:" object-cover h-64 w-64",alt:"goodbye",key:t,src:e.media_url})})),l.a.createElement("div",{className:"mt-3 text-center ml-4"},l.a.createElement("div",null,t.user.name),l.a.createElement("div",{className:"mt-10"},m(t.text)),l.a.createElement("p",{className:"mt-10"},"".concat(h(t.created_at).fromNow("d")," ago"))))))};var E=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("http://localhost:3001/tweets").then((function(e){return e.json()})).then((function(e){return r(e.filter((function(e){return e.entities.media})))}))}),[]),a.map((function(e,t){return l.a.createElement("div",{className:"w-screen md:w-1/2 xl:w-1/5"},l.a.createElement(v,{index:t,tweet:e}))}))},w=a(16);var y=function(){return l.a.createElement("div",{className:"bg-pngop bg-cover opacity-75"},l.a.createElement("div",{className:"justify-center items-center text-center bg-blue-700 opacity-90"},l.a.createElement("div",{className:" w-3/3 m-auto self-center"},l.a.createElement("div",{className:"sm: mt-0"},l.a.createElement("h1",{className:"md: text-white mr-24 ml-24 text-5xl font-body font-bold"},"Keeping London Cyclists Safe")),l.a.createElement("div",{className:"p-4"},l.a.createElement("h3",{className:" mt-2 text-gray-200 font-body"},"A cycling app that directly reports your issues"))),l.a.createElement("div",{className:"m-auto p-2"},l.a.createElement(w.b,{to:"/tweetform"},l.a.createElement("button",{className:"text-white bg-transparent hover:bg-white text-white-700 font-semibold transition ease-out duration-500 hover:text-white py-2 px-4 border-2 border-whitehover:border-transparent rounded-full w-32 mb-2"},"Report")))))},N=a(3);var k=function(){return l.a.createElement(w.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(N.a,{path:"/",exact:!0,component:y}),l.a.createElement("div",{className:"flex flex-wrap"},l.a.createElement(N.a,{path:"/",exact:!0,component:E})),l.a.createElement(N.a,{path:"/tweetform",component:p})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.570b0d93.chunk.js.map